<!DOCTYPE html>
<html lang="id">

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <title>Latihan BootStrap HTML</title>

    <link rel="stylesheet" href="asset/css/bootstrap-grid.min.css">
    <link rel="stylesheet" href="asset/css/LatihanBootStrap_HTML.css">

    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <script src="asset/js/bootstrap.bundle.min.js"></script>
</head>

<body>
    <nav>
        <h1 class="H1">
            Latihan Kalkulator Sederhana - JavaScript 01
        </h1>
        <p>
            Halaman untuk Latihan Javascript 01 = Kalkulator sederhana (+ - x :), memanfaatkan prompt dan alert pada
            browser.
        </p>
    </nav>
    <script>
        function askNumber(message) {
            const input = prompt(message);
            if (input == null) return null;
            const normalized = input.trim().replace(',', '.');
            const num = Number(normalized);
            if (Number.isFinite(num)) return num;
            return askNumber("Input tidak valid. " + message);
        }

        function askOperator() {
            const op = prompt("Pilih Operator: + - * / (Pilih salah satu!)");
            if (op == null) return null;
            const trimmed = op.trim();
            if (trimmed === "+" || trimmed === "-" || trimmed === "*" || trimmed === "/") return trimmed;
            return askOperator();
        }

        function fungsiKalkulator() {
            alert("Selamat datang di Kalkulator Sederhana. \n Klik 'Cancel' untuk keluar");
            while (true) {
                const a = askNumber("Masukkan angka pertama: ");
                if (a === null) break;

                const operator = askOperator();
                if (operator === null) break;

                const b = askNumber("Masukkan angka kedua: ");
                if (b === null) break;

                let result;
                if (operator === "+") result = a + b;
                else if (operator === "-") result = a - b;
                else if (operator === "*") result = a * b;
                else if (operator === "/") {
                    if (b === 0) {
                        alert("Error: Pembagian dengan nol tidak diperbolehkan!");
                        if (!confirm("Apakah anda ingin mencoba kembali?")) break;
                        else continue;
                    }
                    result = a / b;
                }
                alert(`${a} ${operator} ${b} = ${Number.isFinite(result) ? parseFloat(result.toPrecision(12)) : result}`);

                if (!confirm("Hitung lagi? (OK = ya, Cancel = tidak)")) break;
            }
            alert("Terima kasih â€” kalkulator ditutup.");
        }
        kalkulator();
    </script>
</body>

</html>